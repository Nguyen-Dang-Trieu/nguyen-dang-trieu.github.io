---
title: Linux IO
date: 2025-1-21
categories: [Linux]
tags: [Device Driver, IO]
author: Trieu
image:
  path: assets/articles/2025/Buffer_IO_Direct_IO_mmap/2025-1-21-header.png
  alt: Buffer IO
---

## Mở đầu
Đối với một ứng dụng (hay một tiến trình trong hệ điều hành), không gian bộ nhớ được chia thành 2 phần:
- Không gian hạt nhân **(Kernel-space)**: được chia sẽ với các tiến trình khác.
- Không gian người dùng **(User-space)**: riêng đối với mỗi tiến trình.

Cả hai đều nằm trong không gian địa chỉ ảo **(Virtual Memory)**. Tiến trình người dùng không thể trực tiếp truy cập vào không gian kernel. Thay vào đó, nó chỉ có quyền truy cập vào 
không gian người dùng **(User-space)** và cần sao chép dữ liệu vào không gian kernel thông qua cơ chế do hệ điều hành cung cấp (như các lời gọi hệ thống - **System call**). Sau đó, kernel 
sẽ xử lý dữ liệu theo yêu cầu của tiến trình.

## IO là gì

Trong hệ thống máy tính, **I/O (Input/Output)** có nghĩa là đầu vào và đầu ra. Tùy theo đối tượng hoạt động, I/O có thể được phân loại thành nhiều mô hình khác nhau như: I/O đĩa, I/O mạng, 
I/O ánh xạ bộ nhớ, I/O trực tiếp, I/O cơ sở dữ liệu, v.v. Bất kỳ hệ thống nào có các kiểu đầu vào và đầu ra đều có thể được coi là một **hệ thống I/O**. Có thể nói, I/O chính là kênh trao 
đổi dữ liệu và cầu nối tương tác giữa con người 🙍‍♂️ và máy tính 💻 trong toàn bộ hệ điều hành. Đây là một khái niệm phổ quát, không phụ thuộc vào ngôn ngữ lập trình hay công nghệ phát 
triển cụ thể.

Trong các hệ thống ngày nay, I/O đóng vai trò quan trọng hàng đầu. Các hệ thống hiện đại thường phải xử lý khối lượng lớn tệp tin và các hoạt động cơ sở dữ liệu phức tạp. Những hoạt 
động này phụ thuộc nhiều vào hiệu suất I/O của hệ thống, và đây thường là nguyên nhân chính gây ra tắc nghẽn hiệu năng. Nếu hiệu suất I/O không đủ cao, toàn bộ hệ thống sẽ bị chậm lại, 
bất kể CPU hay bộ nhớ có mạnh đến đâu.

Để cải thiện hiệu suất I/O, các giải pháp tối ưu hóa đã được áp dụng, chẳng hạn như:
- Bổ sung bộ nhớ đệm trong kiến trúc hệ thống nhằm giảm độ trễ và tăng tốc độ phản hồi.
- Thay thế ổ cứng cơ học (HDD) truyền thống bằng ổ đĩa thể rắn (SSD) để tăng tốc độ truy cập dữ liệu ở cấp độ phần cứng.
  
Có thể nói, phần lớn không gian tối ưu hóa hệ thống nằm ở việc cải thiện liên kết I/O, bởi vì đây thường là **điểm nghẽn chính**. Trong khi đó, hiệu suất của CPU và bộ nhớ hiếm khi là nguyên
nhân gây ra tắc nghẽn trong hệ thống hiện đại.

## Reference
- https://everything2.com/title/caller+vs+callee
